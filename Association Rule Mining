#Question 2 - Association Rule Mining

setwd("C:/Users/Aditya Murali/Desktop")
#Verify that the working directory has been changed
getwd()

#Install the packages arules and arulesViz to use association rule functions
#Call the libraries arules and arulesViz to use association rule functions
library(arules)
library(arulesViz)

#Load the transactions data
set.seed(42)
assocs <- read.transactions("transactions.csv", format = "single", sep = ",", cols = c(2,4), rm.duplicates = FALSE)

#Find out the number of transactions and the number of products in the transactions matrix
assocs

#Obtain summary statistics of transactions data
summary(assocs)

# Plot frequency of products
itemFrequencyPlot(assocs,type="absolute")

# Generate rules with support = 0.03 and confidence = 0.20 with a minimum length of 2
rules <- apriori(assocs, parameter = list(supp = 0.03, conf = 0.20, minlen = 2))

#Sort the rules in decreasing order by lift
rules <- sort(rules, by="lift", decreasing=TRUE)

# Limit output to 2 digits
options(digits=2)

# Show rules and their summary
inspect(rules)
summary(rules)

# Are there any redundant rules?
is.redundant(rules)
rules[is.redundant(rules)]
inspect(rules[is.redundant(rules)])

#End of Question 2 --------------- End of Question 2 -------------- End of Question 2
